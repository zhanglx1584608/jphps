!function(e){function t(e){return/^.*#\{[^}]*\}.*$/.test(e)?!0:/^[ \t]*[&=:|].*$/.test(e)?!0:/^[ \w\t_$]*([^&\^?|\n\w\/'"{}\[\]+\-():;, \t=\.$_]|:\/\/).*$/.test(e)?!0:/^(?!\s*(else|elseif|echo|print|do|try|finally|void|typeof\s[\w$_]*)\s*$)[^'":;{}()\[\],\n|=&\/^?]+$/.test(e)?!0:void 0}function n(e){if(!e)return e;var n=String(e).split(/\n\r?/).map(function(e){return/^\s*$/.test(e)?e:t(e)?e.replace(/(!?#)\{("([^\\"]|(\\.))*"|'([^\\']|(\\.))*'|[^}]*)\}/g,function(e,t,n){switch(t){case"#":return"<?php echo htmlentities("+n+") ?>";case"!#":return"<?php echo "+n+" ?>"}return t+"{"+n.replace(/\}/g,"\\x7d").replace(/\\/g,"\\x5c")+"}"}):"<?php "+e+" ?>"});return n.join("\n")}var r=r||{};r.build=n,"function"==typeof define?(define.amd||define.cmd)&&define(function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:window[e]=r}("jphps");